<div class="container-fluid">
	<div class="row">
		<div class="col-md-6 customize-half">
			<div class="row mt-4 mx-0 justify-content-center">
				<div class="text-center">
					<h1>Customize</h1>
				</div>
			</div>
			<div class="row mx-0 text-center">
				<form action="/customize" novalidate method="POST" enctype="multipart/form-data"
					class="needs-validation mt-3 w-100">
					<div class="row">
						<div class="form-group col-12 mb-5">
							<h4>Theme</h4>
							<select class="custom-select" name="themeId">
								<option {{#is customizations.themeId "default"}} selected {{/is}} value="default">
									Default
								</option>

								<option {{#is customizations.themeId "dark"}} selected {{/is}} value="dark">
									Dark
								</option>

								<option {{#is customizations.themeId "sideBarNav"}} selected {{/is}} value="sideBarNav">
									Side Navigation
								</option>

								<option {{#is customizations.themeId "sideBarNav_dark"}} selected {{/is}}
									value="sideBarNav_dark">
									Side Navigation (Dark)
								</option>
							</select>

						</div>

						<div class="form-group col-md-12 mb-5">
							<p>Show "about" blurb on homepage? 
								<i class="fas fa-info-circle text-muted ml-2 cust-tip" data-msg="You can configure the contents of this blurb from the settings menu."></i>
							</p>
							<div class="row">
								<div class="form-check col-6 ">

									<input class="form-check-input" type="radio" name="showAbout" id="showAbout1"
										value="true" {{#isTruthy customizations.showAbout}} checked {{/isTruthy}}>

									<span class="checked"></span>

									<label class="form-check-label" for="showAbout1">
										Yes
									</label>
								</div>
								<div class="form-check col-6 ">
									<input class="form-check-input" type="radio" name="showAbout" id="showAbout2"
										value="false" {{#isFalsey customizations.showAbout}} checked {{/isFalsey}}>

									<span class="checked"></span>

									<label class="form-check-label" for="showAbout2">
										No
									</label>
								</div>
							</div>

						</div>

						<div class="form-group col-md-6 mb-5">
							<p>
								Use theme-suggested font?
								<i class="fas fa-info-circle text-muted ml-2 cust-tip" data-msg="Some themes have a built-in font that you can use to further customize your website."></i>
							</p>
							<div class="row">
								<div class="form-check col-6 ">
									<input class="form-check-input" type="radio" name="useThemeFont" id="useThemeFont1"
										value="true" {{#isTruthy customizations.useThemeFont}} checked {{/isTruthy}}>

									<span class="checked"></span>

									<label class="form-check-label" for="useThemeFont1">
										Yes
									</label>
								</div>
								<div class="form-check col-6 ">
									<input class="form-check-input" type="radio" name="useThemeFont" id="useThemeFont2"
										value="false" {{#isFalsey customizations.useThemeFont}} checked {{/isFalsey}}>

									<span class="checked"></span>

									<label class="form-check-label" for="useThemeFont2">
										No
									</label>
								</div>
							</div>

						</div>


						<div class="form-group col-md-6 mb-5">
							<p>
								<i class="fas fa-info-circle text-muted ml-2 cust-tip" data-msg="Some themes have suggested colours that you can opt to use. While this option is selected, any colour customizations you make will not be active."></i>
								Use theme-suggested colours?
							</p>
							<div class="row">
								<div class="form-check col-6 ">
									<input class="form-check-input" type="radio" name="useThemeColour"
										id="useThemeColour1" value="true" {{#isTruthy customizations.useThemeColour}}
										checked {{/isTruthy}}>

									<span class="checked"></span>

									<label class="form-check-label" for="useThemeColour1">
										Yes
									</label>
								</div>
								<div class="form-check col-6 ">
									<input class="form-check-input" type="radio" name="useThemeColour"
										id="useThemeColour2" value="false" {{#isFalsey customizations.useThemeColour}}
										checked {{/isFalsey}}>

									<span class="checked"></span>

									<label class="form-check-label" for="useThemeColour2">
										No
									</label>
								</div>
							</div>

						</div>

						{{#isTruthy customizations.useThemeColour}}
						<div class="col-12 bg-secondary p-4 mb-5">
							<strong>NOTE: </strong>
							<br>
							Colours can't be customized when "theme-suggested colours" are enabled.
						</div>
						{{/isTruthy}}

						<div class="form-group col-md-6">
							<label for="primaryColor">
								Primary Color:
							</label>
							<input required value="#{{customizations.primaryColor}}"
								data-jscolor="{width:500, height:300}" class="form-control jscolor text-center"
								name="primaryColor">
						</div>

						<div class="form-group col-md-6">
							<label for="secondaryColor">
								Secondary Color:
							</label>

							<input required data-jscolor="{width:500, height:300}"
								value="#{{customizations.secondaryColor}}" class="form-control jscolor text-center"
								name="secondaryColor">
						</div>

						<div class="form-group col-md-6">
							<label for="darkColor">
								Dark Color:
							</label>
							<input required data-jscolor="{width:500, height:300}" value="#{{customizations.darkColor}}"
								class="form-control jscolor text-center" name="darkColor">
						</div>

						<div class="form-group col-md-6">
							<label for="lightColor">
								Light Color:
							</label>

							<input required data-jscolor="{width:500, height:300}"
								value="#{{customizations.lightColor}}" class="form-control jscolor text-center"
								name="lightColor">
						</div>



					</div>
					<div class="form-group col-12 mt-5">
						<label>Featured Image:</label>
						<div class="input-group">
							<div class="custom-file">
								<input type="file" class="custom-file-input" accept=".gif, .jpg, .png, .jpeg" name="feature" id="feature">
								<label class="custom-file-label" for="feature" id="fileName">Choose file</label>
							</div>
						</div>
						<p class="text-muted mb-3">
							<em>
								<small>
									We suggest using an image at least 1000px wide with a landscape
									orientation. 
									<br>
									Images will be scaled to preserve aspect ratio.
								</small>
							</em>
						</p>
					</div>

					{{#isTruthy customizations.hasFeatureImage}}
					<div class="col-12" style="max-height: 400px; overflow: hidden;">
						<img src="/siteData/{{userDetails._id}}/img/feature/feature.jpg?v={{random 1 100}}"
							style="width: 100%; height: auto;">
					</div>
					{{/isTruthy}}

					<div class="server-response text-danger"></div>
					<div class="row">
						<div class="col-12 mt-4 mb-4">
							<button class="btn btn-primary rounded-pill" type="submit">
								Save Customization
							</button>
						</div>
					</div>
				</form>

			</div>
		</div>

		<div class="col-md-6 mx-0">
			<iframe class="livePreview" src="/sites/{{userDetails._id}}"></iframe>
		</div>
	</div>
</div>


<script>

	$("#feature").change((e)=>{
		$("#fileName").html($("#feature").val().replace(/C:\\fakepath\\/, ''))
	})
</script>